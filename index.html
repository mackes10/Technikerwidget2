<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Technikerwidget2</title>
</head>
<body>
  <label for="mitarbeiter">Mitarbeiter auswählen:</label>
  <select id="mitarbeiter" name="value">
    <option value="">Bitte auswählen</option>
    <option value="Option A">Option A</option>
    <option value="Option B">Option B</option>
    <option value="Option C">Option C</option>
  </select>

  <script>
    const select = document.getElementById("mitarbeiter");

    // Sobald sich Auswahl ändert, sende den Wert an Jotform-Parent
    select.addEventListener("change", () => {
      const selectedValue = select.value;
      console.log("Sende Wert:", selectedValue);

      parent.postMessage({
        type: "control_widget",
        name: "value",      // wichtig: "value" muss exakt so heißen
        value: selectedValue // der Wert wird an Jotform zurückgegeben
      }, "*");
    });
  </script>
</body>
</html>
